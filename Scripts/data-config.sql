INSERT INTO config.bec ("name", api, config, "group") VALUES('_tec/validate_params_token.json', false, '[{"key":["val"],"type":"validate","validate":[{"key":"token","riles":[{"type":"req","error":"Токен обязательно поле"},{"type":"var","error":"Токен пользователя является строкой","params":{"type":"String"}}]}]},{"key":["val"],"type":"return","ifs":[{"data":{"key":["val"],"type":"dataset","tec":"getStatusCode"}},{"operator":"=="},{"data":{"type":"value","value":400}}]}]'::json, '_tec');
INSERT INTO config.bec ("name", api, config, "group") VALUES('_tec/log_insert.json', false, '[{"key":["log_result"],"type":"postgresql","sql":{"convert":"object","text":"select * from tec.log_insert(_id_user => ?, _text => ?)","params":[{"type":"Integer","data":{"type":"dataset","key":["id_user"]},"index":1},{"type":"String","data":{"type":"dataset","key":["text"]},"index":2}]}}]'::json, '_tec');
INSERT INTO config.bec ("name", api, config, "group") VALUES('_tec/check_right.json', false, '[{"key":["check_token"],"type":"config_link","link":"_tec/validate_params_token.json"},{"key":["val_rules"],"type":"validate","validate":[{"key":"right_const_name","riles":[{"type":"req","error":"Право обязательно поле"},{"type":"var","error":"Право является строкой","params":{"type":"String"}}]}]},{"key":["val_rules"],"type":"return","ifs":[{"data":{"key":["val_rules"],"type":"dataset","tec":"getStatusCode"}},{"operator":"=="},{"data":{"type":"value","value":400}}]},{"key":["check_right"],"type":"postgresql","sql":{"convert":"object","text":"select * from tec.check_right(_token => ?, _right_const_name => ?)","params":[{"type":"String","data":{"type":"dataset","key":["token"]},"index":1},{"type":"String","data":{"type":"dataset","key":["right_const_name"]},"index":2}]}}]'::json, '_tec');
